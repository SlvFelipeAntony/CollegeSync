{% extends "base.html" %}

{% block content %}
<div class="card shadow">
    <div class="card-header bg-info text-dark d-flex justify-content-between align-items-center">
        <h4 class="mb-0">Detalhes do Agendamento</h4>
        <span class="badge bg-light text-dark border">{{ appt.status }}</span>
    </div>
    <div class="card-body">

        <h5 class="card-title display-6">{{ appt.description }}</h5>
        <h6 class="card-subtitle mb-4 text-muted">{{ appt.materia }} (Prof. {{ appt.professor }})</h6>

        <div class="row mb-3">
            <div class="col-md-6">
                <strong>Data e Hora:</strong>
                <p class="fs-5">{{ appt.scheduled_at.strftime('%d/%m/%Y às %H:%M') }}</p>
            </div>
            <div class="col-md-6">
                <strong>Criado por:</strong>
                <p class="fs-5">{{ appt.aluno }}</p>
            </div>
        </div>

        <div class="mb-4">
            <strong>Observações:</strong>
            <div class="p-3 bg-light border rounded">
                {{ appt.notes or "Nenhuma observação." }}
            </div>
        </div>

        <hr>

        <div class="d-flex justify-content-between">
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Voltar</a>

            {% if pode_editar %}
                <a href="{{ url_for('edit_appointment', id=appt.id) }}" class="btn btn-warning">
                    <i class="bi bi-pencil-square"></i> Editar Agendamento
                </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}